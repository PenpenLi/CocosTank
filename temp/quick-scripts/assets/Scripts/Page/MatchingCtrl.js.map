{"version":3,"sources":["MatchingCtrl.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"../../../../../assets/Scripts/Page","sourcesContent":["import WebSocketManage from '../WebSocketManage';\nimport HomePageCtrl from './HomePageCtrl'\nimport BattleCtrl from './BattleCatrl';\nimport { Node, show, Label, Sprite, Prefab } from '../../../creator';\n// Learn TypeScript:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/typescript.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/typescript/index.html\n// Learn Attribute:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/reference/attributes/index.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/life-cycle-callbacks/index.html\n\nconst { ccclass, property } = cc._decorator;\n\n\n@ccclass\nexport default class NewClass extends cc.Component {\n    private WebScoketNode: cc.Node = null;\n    @property(cc.Node)\n    private headImg: cc.Node = null;\n    @property(cc.Node)\n    private Success: cc.Node = null;\n    @property(cc.Node)\n    private MainPlaysName: cc.Node = null;\n    @property(cc.Node)\n    private MainPlaysHeadImg: cc.Node = null;\n    @property(cc.Node)\n    private VicePlaysName: cc.Node = null;\n    @property(cc.Node)\n    private VicePlaysHeadImg: cc.Node = null;\n    private HomePage: cc.Node = null;\n\n    @property(cc.Prefab)\n    private BattlePage: cc.Prefab = null;\n    private userData = {};\n    /**\n     * 点击返回按钮\n     */\n    onClickBackButton() {\n        var webScoket = this.WebScoketNode.getComponent(WebSocketManage);\n        webScoket.sendMessage({ msg: 3 });\n        this.node.destroy();\n    }\n    start() {\n        var self = this;\n        this.HomePage = cc.find('Canvas/HomePagePanel');\n        this.userData = this.HomePage.getComponent(HomePageCtrl).UserData;\n        cc.loader.load({ url: self.userData.headimgurl, type: 'png' }, function (err, texture) {\n            self.headImg.getComponent(cc.Sprite).spriteFrame = new cc.SpriteFrame(texture);\n        })\n        this.WebScoketNode = cc.find('WebScoket')\n        var webScoket = this.WebScoketNode.getComponent(WebSocketManage);\n        webScoket.sendMessage({ msg: 2 });\n    }\n    public setBattelData(response) {\n        var self = this;\n        this.Success.active = true;\n        if (response.data) {\n            this.MainPlaysName.getComponent(cc.Label).string = this.userData.nickname;\n            cc.loader.load({ url: self.userData.headimgurl, type: 'png' }, function (err, texture) {\n                self.MainPlaysHeadImg.getComponent(cc.Sprite).spriteFrame = new cc.SpriteFrame(texture);\n            })\n            this.VicePlaysName.getComponent(cc.Label).string = response.enemyData.nickname;\n            cc.loader.load({ url: response.enemyData.headimgurl, type: 'png' }, function (err, texture) {\n                self.VicePlaysHeadImg.getComponent(cc.Sprite).spriteFrame = new cc.SpriteFrame(texture);\n            })\n        } else {\n            this.VicePlaysName.getComponent(cc.Label).string = this.userData.nickname;\n            this.VicePlaysHeadImg.getComponent(cc.Sprite).spriteFrame = this.headImg.getComponent(cc.Sprite).spriteFrame;\n            this.MainPlaysName.getComponent(cc.Label).string = response.enemyData.nickname;\n            cc.loader.load({ url: response.enemyData.headimgurl, type: 'png' }, function (err, texture) {\n                self.MainPlaysHeadImg.getComponent(cc.Sprite).spriteFrame = new cc.SpriteFrame(texture);\n            })\n        }\n        var battlePage = cc.instantiate(this.BattlePage);\n        battlePage.parent = this.node.parent;\n        battlePage.zIndex = -1;\n        if(response.data){\n            battlePage.getComponent(BattleCtrl).initScore(0);\n        } else {\n            battlePage.getComponent(BattleCtrl).initScore(1);\n        }\n        setTimeout(() => {\n            if (response.data) {\n                battlePage.getComponent(BattleCtrl).sendCallBackFor0();\n            }\n            battlePage.zIndex = 1;\n            self.destroy();\n        }, 1000);\n    }\n}\n"]}