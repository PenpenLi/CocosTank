require=function t(e,a,o){function i(l,r){if(!a[l]){if(!e[l]){var s="function"==typeof require&&require;if(!r&&s)return s(l,!0);if(n)return n(l,!0);var c=new Error("Cannot find module '"+l+"'");throw c.code="MODULE_NOT_FOUND",c}var h=a[l]={exports:{}};e[l][0].call(h.exports,function(t){var a=e[l][1][t];return i(a||t)},h,h.exports,t,e,a,o)}return a[l].exports}for(var n="function"==typeof require&&require,l=0;l<o.length;l++)i(o[l]);return i}({BattleCatrl:[function(t,e,a){"use strict";cc._RF.push(e,"13937DLhkBG67xqI6V6mxta","BattleCatrl"),Object.defineProperty(a,"__esModule",{value:!0});var o=t("../Unit/LinkedMap"),i=t("../WebSocketManage"),n=cc._decorator,l=n.ccclass,r=n.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wall_column_1=null,e.wall_row_1=null,e.wall_column_2=null,e.wall_row_2=null,e.wall_column_3=null,e.wall_row_3=null,e.BattleRegion=null,e.TopCell=null,e.BottomCell=null,e.LeftCell=null,e.RightCell=null,e.player1=null,e.player2=null,e.fllower_1=null,e.fllower_2=null,e.fllower_3=null,e.horn_1=null,e.horn_2=null,e.horn_3=null,e.webScoket=null,e.battleData=[{row:3,column:7,scale:1},{row:4,column:9,scale:.775},{row:5,column:11,scale:.645},{row:6,column:13,scale:.539},{row:7,column:15,scale:.484}],e.activeBattleData=null,e.cells=0,e.externalResources=[],e.activeExternalData=null,e.linkedMap={},e.player=[],e.Exterrandom=0,e.playerName="tank_1",e}return __extends(e,t),e.prototype.start=function(){this.webScoket=cc.find("WebScoket").getComponent(i.default),this.initBattleData()},e.prototype.restart=function(){this.TopCell.removeAllChildren(),this.LeftCell.removeAllChildren(),this.RightCell.removeAllChildren(),this.BottomCell.removeAllChildren(),this.BattleRegion.removeAllChildren(),console.log(this.playerName),"tank_2"!==this.playerName&&(this.initBattleData(),this.sendCallBackFor0())},e.prototype.initBattleData=function(){this.externalResources=[{cellColumn:this.wall_column_1,cellRow:this.wall_row_1,flower:this.fllower_1,horn:this.horn_1,bg:"floor_1"},{cellColumn:this.wall_column_2,cellRow:this.wall_row_2,flower:this.fllower_2,horn:this.horn_2,bg:"floor_2"},{cellColumn:this.wall_column_3,cellRow:this.wall_row_3,flower:this.fllower_3,horn:this.horn_3,bg:"floor_3"}];var t=Math.random()*this.battleData.length>>0;this.activeBattleData=this.battleData[t],this.Exterrandom=Math.random()*this.externalResources.length>>0,this.activeExternalData=this.externalResources[this.Exterrandom],this.cells=this.activeBattleData.column*this.activeBattleData.row,this.initPlayerPoint(),this.webScoket.sendMessage({msg:2})},e.prototype.sendCallBackFor0=function(){var t=this;t.linkedMap=new o.default(t.activeBattleData.column,t.activeBattleData.row,t.player[0].point,t.player[1].point).generate(),t.externalCell();for(var e=0;e<t.cells;e++)t.generateRegion(e);t.webScoket.sendMessage({msg:21,data:{battleData:[{column:t.activeBattleData.column,row:t.activeBattleData.row,scale:t.activeBattleData.scale}],player:t.player,externaData:this.Exterrandom,linkedMap:t.linkedMap}})},e.prototype.sendCallBackFor1=function(t){var e=this;e.playerName="tank_2",e.linkedMap=t.data.linkedMap,e.player=t.data.player,e.activeExternalData=e.externalResources[t.data.externaData],e.activeBattleData=t.data.battleData[0];var a=e.activeBattleData.column*e.activeBattleData.row;e.externalCell();for(var o=0;o<a;o++)e.generateRegion(o)},e.prototype.initPlayerPoint=function(){this.player=[],this.player.push({point:Math.random()*this.cells>>0,rotation:180*Math.random()>>0}),this.player.push({point:Math.random()*this.cells>>0,rotation:180*Math.random()>>0}),this.player[0]===this.player[1]&&this.initPlayerPoint()},e.prototype.setCellData=function(t,e){if(0===t)return(a=cc.instantiate(this.activeExternalData.cellColumn)).scale=e,a;var a=cc.instantiate(this.activeExternalData.cellRow);return a.scale=e,a},e.prototype.setHornData=function(t,e){var a=new cc.Node;return a.addComponent(cc.Sprite).spriteFrame=this.activeExternalData.horn,a.scale=t,a.rotation=e,a},e.prototype.setFlowerData=function(t,e){var a=new cc.Node;return a.addComponent(cc.Sprite).spriteFrame=this.activeExternalData.flower,a.scale=t,a.rotation=e,a},e.prototype.externalCell=function(){var t=this;cc.loader.loadRes(t.activeExternalData.bg,cc.SpriteFrame,function(e,a){t.BattleRegion.getComponent(cc.Sprite).spriteFrame=a});for(var e=this.TopCell.width/this.activeBattleData.column,a=e/194/.8814,o=0;o<this.activeBattleData.column;o++){(r=this.setCellData(0,a)).setPosition(e*o-this.BottomCell.width/2+e/2,0),this.BottomCell.addChild(r);var i=this.setHornData(a,180);i.setPosition(-this.BottomCell.width/2-i.width*a/6,-i.height*a/3.5),this.BottomCell.addChild(i),(i=this.setHornData(a,90)).setPosition(this.BottomCell.width/2+i.width*a/1.5,-i.height*a/3.5),this.BottomCell.addChild(i),(l=this.setFlowerData(a,180)).setPosition(e*o-this.BottomCell.width/2+e/2+10*a,-l.height*a/2),this.BottomCell.addChild(l),(i=this.setHornData(a,270)).setPosition(-this.TopCell.width/2-i.width*a/5,i.height*a/2),this.TopCell.addChild(i),(i=this.setHornData(a,0)).setPosition(this.TopCell.width/2+i.width*a/1.7,i.height*a/2),this.TopCell.addChild(i),(r=this.setCellData(0,a)).setPosition(e*o-this.TopCell.width/2+e/2,0),this.TopCell.addChild(r),(l=this.setFlowerData(a,0)).setPosition(e*o-this.TopCell.width/2+e/2+10*a,l.height*a/2+r.height*a/2),this.TopCell.addChild(l)}var n=this.LeftCell.height/this.activeBattleData.row;a=n/194/.88;for(o=0;o<this.activeBattleData.row;o++){var l=this.setFlowerData(a,270);l.setPosition(-l.height*a/2+.5,n*o-this.LeftCell.height/2+n/2+12*a),this.LeftCell.addChild(l);var r=this.setCellData(1,a);r.setPosition(0,n*o-this.LeftCell.height/2+n/2),this.LeftCell.addChild(r),(r=this.setCellData(1,a)).setPosition(0,n*o-this.RightCell.height/2+n/2),this.RightCell.addChild(r),(l=this.setFlowerData(a,90)).setPosition(l.height*a/2+r.width*a/2,n*o-this.RightCell.height/2+n/2+11*a),this.RightCell.addChild(l)}},e.prototype.generateRegion=function(t){var e=t/this.activeBattleData.column>>0,a=t%this.activeBattleData.column,o=new cc.Node("layoutNode"),i=Math.floor(this.BattleRegion.width/this.activeBattleData.column*100)/100,n=this.BattleRegion.height/this.activeBattleData.row;if(o.addComponent(cc.Layout),o.setContentSize(i,n),this.BattleRegion.addChild(o),a!==this.activeBattleData.column-1&&(!this.linkedMap[t]||this.linkedMap[t].indexOf(t+1)<0)){var l=n/194/.8814,r=cc.instantiate(this.activeExternalData.cellRow);o.addChild(r),r.scale=l,r.setPosition(this.BattleRegion.width/this.activeBattleData.column*(a+1),-r.height*l/2-e*r.height*l+r.height*l*.1185*e+10*l)}if(e!==this.activeBattleData.row-1&&(!this.linkedMap[t]||this.linkedMap[t].indexOf(t+this.activeBattleData.column)<0)){var l=i/194/.8814,s=cc.instantiate(this.activeExternalData.cellColumn);o.addChild(s),s.scale=l,s.setPosition(this.BattleRegion.width/this.activeBattleData.column*(a+1)-s.width*l/2+7*l,-this.BattleRegion.height/this.activeBattleData.row*(e+1))}if(t===this.player[0].point){var c=cc.instantiate(this.player1);c.scale=this.activeBattleData.scale,c.rotation=this.player[0].rotation,c.setPosition(this.BattleRegion.width/this.activeBattleData.column*a+this.BattleRegion.width/this.activeBattleData.column/2,-this.BattleRegion.height/this.activeBattleData.row*e-this.BattleRegion.height/this.activeBattleData.row/2),o.addChild(c)}if(t===this.player[1].point){var h=cc.instantiate(this.player2);h.scale=this.activeBattleData.scale,h.rotation=this.player[1].rotation,h.setPosition(this.BattleRegion.width/this.activeBattleData.column*a+this.BattleRegion.width/this.activeBattleData.column/2,-this.BattleRegion.height/this.activeBattleData.row*e-this.BattleRegion.height/this.activeBattleData.row/2),o.addChild(h)}},__decorate([r(cc.Prefab)],e.prototype,"wall_column_1",void 0),__decorate([r(cc.Prefab)],e.prototype,"wall_row_1",void 0),__decorate([r(cc.Prefab)],e.prototype,"wall_column_2",void 0),__decorate([r(cc.Prefab)],e.prototype,"wall_row_2",void 0),__decorate([r(cc.Prefab)],e.prototype,"wall_column_3",void 0),__decorate([r(cc.Prefab)],e.prototype,"wall_row_3",void 0),__decorate([r(cc.Node)],e.prototype,"BattleRegion",void 0),__decorate([r(cc.Node)],e.prototype,"TopCell",void 0),__decorate([r(cc.Node)],e.prototype,"BottomCell",void 0),__decorate([r(cc.Node)],e.prototype,"LeftCell",void 0),__decorate([r(cc.Node)],e.prototype,"RightCell",void 0),__decorate([r(cc.Prefab)],e.prototype,"player1",void 0),__decorate([r(cc.Prefab)],e.prototype,"player2",void 0),__decorate([r(cc.SpriteFrame)],e.prototype,"fllower_1",void 0),__decorate([r(cc.SpriteFrame)],e.prototype,"fllower_2",void 0),__decorate([r(cc.SpriteFrame)],e.prototype,"fllower_3",void 0),__decorate([r(cc.SpriteFrame)],e.prototype,"horn_1",void 0),__decorate([r(cc.SpriteFrame)],e.prototype,"horn_2",void 0),__decorate([r(cc.SpriteFrame)],e.prototype,"horn_3",void 0),e=__decorate([l],e)}(cc.Component);a.default=s,cc._RF.pop()},{"../Unit/LinkedMap":"LinkedMap","../WebSocketManage":"WebSocketManage"}],BulletCtrl:[function(t,e,a){"use strict";cc._RF.push(e,"2a2bbazLDJL6aDlFXxZ1Za8","BulletCtrl"),Object.defineProperty(a,"__esModule",{value:!0});var o=t("../WebSocketManage"),i=cc._decorator,n=i.ccclass,l=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.WebScoket=null,e.speedX=5,e.speedY=5,e}return __extends(e,t),e.prototype.start=function(){var t=this;this.WebScoket=cc.find("WebScoket").getComponent(o.default),setTimeout(function(){t.node&&t.node.destroy()},5e3)},e.prototype.update=function(t){var e=this.node.rotation;this.node.x+=this.speedX*Math.sin(Math.PI*e/180),this.node.y+=this.speedY*Math.cos(Math.PI*e/180)},e.prototype.onCollisionEnter=function(t,e){switch(t.tag){case 0:this.speedY*=-1;break;case 1:this.speedX*=-1;break;case 2:this.speedY*=-1;break;case 3:this.speedX*=-1}},e.prototype.onDestroy=function(){this.node.destroy()},e=__decorate([n],e)}(cc.Component));a.default=l,cc._RF.pop()},{"../WebSocketManage":"WebSocketManage"}],CellCtrl:[function(t,e,a){"use strict";cc._RF.push(e,"1a3ddLI5Y9ET54Wf+qMBtnj","CellCtrl"),Object.defineProperty(a,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,n=(o.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){var t=cc.director.getCollisionManager();t.enabled=!0,t.enabledDrawBoundingBox=!0},e=__decorate([i],e)}(cc.Component));a.default=n,cc._RF.pop()},{}],HomePageCtrl:[function(t,e,a){"use strict";cc._RF.push(e,"34123NWVIRNU6xkpmnqGz20","HomePageCtrl"),Object.defineProperty(a,"__esModule",{value:!0});var o=t("../WebSocketManage"),i=cc._decorator,n=i.ccclass,l=i.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lobbyPanel=null,e.openSoundSprite=null,e.closeSoundSprite=null,e.webSocketManage=null,e.bgSound=null,e.IsSound=!0,e}return __extends(e,t),e.prototype.OnClickStartButton=function(){cc.instantiate(this.lobbyPanel).parent=this.node.parent,this.enabled=!1},e.prototype.OnClickSoundButton=function(t){this.IsSound=!this.IsSound;var e=t.target.getComponent(cc.Sprite);this.IsSound?(e.spriteFrame=this.openSoundSprite,this.bgSound.resume()):(e.spriteFrame=this.closeSoundSprite,this.bgSound.pause())},__decorate([l(cc.Prefab)],e.prototype,"lobbyPanel",void 0),__decorate([l(cc.SpriteFrame)],e.prototype,"openSoundSprite",void 0),__decorate([l(cc.SpriteFrame)],e.prototype,"closeSoundSprite",void 0),__decorate([l(o.default)],e.prototype,"webSocketManage",void 0),__decorate([l(cc.AudioSource)],e.prototype,"bgSound",void 0),e=__decorate([n],e)}(cc.Component);a.default=r,cc._RF.pop()},{"../WebSocketManage":"WebSocketManage"}],LinkedMap:[function(t,e,a){"use strict";cc._RF.push(e,"2422a/26gRHUKNZEy4tBNpQ","LinkedMap"),Object.defineProperty(a,"__esModule",{value:!0});var o=function(){function t(t,e,a,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===a&&(a=0),void 0===o&&(o=0),this.column=0,this.row=0,this.cells=0,this.player_1=0,this.player_2=0,this.linkedMap={},this.unionSets=null,this.column=t,this.row=e,this.cells=t*e,this.player_1=a,this.player_2=o,this.unionSets=new i(this.cells)}return t.prototype.generate=function(){for(;!this.playerLinked();){var t=this.pickRandomCellPairs();this.unionSets.sameSet(t[0],t[1])||(this.unionSets.union(t[0],t[1]),this.addLinkedMap(t[0],t[1]))}return this.linkedMap},t.prototype.playerLinked=function(){return this.unionSets.sameSet(this.player_1,this.player_2)},t.prototype.pickRandomCellPairs=function(){var t=Math.random()*this.cells>>0,e=[],a=t/this.column>>0,o=t%this.column;return 0!==a&&e.push(t-this.column),a!==this.row-1&&e.push(t+this.column),0!==o&&e.push(t-1),o!==this.column-1&&e.push(t+1),[t,e[Math.random()*e.length>>0]]},t.prototype.addLinkedMap=function(t,e){this.linkedMap[t]||(this.linkedMap[t]=[]),this.linkedMap[e]||(this.linkedMap[e]=[]),this.linkedMap[t].indexOf(e)<0&&this.linkedMap[t].push(e),this.linkedMap[e].indexOf(t)<0&&this.linkedMap[e].push(t)},t}();a.default=o;var i=function(){function t(t){this.setArray=null,this.setArray=new Array(t);for(var e=this.setArray.length-1;e>=0;e--)this.setArray[e]=-1}return t.prototype.union=function(t,e){if(-1===this.setArray[t]&&-1===this.setArray[e])this.setArray[t]=e,this.setArray[e]=t;else if(-1===this.setArray[t]&&-1!==this.setArray[e])this.setArray[t]=this.setArray[e];else if(-1!==this.setArray[t]&&-1===this.setArray[e])this.setArray[e]=this.setArray[t];else for(var a=this.setArray[t],o=0;o<this.setArray.length;o++)this.setArray[o]===a&&(this.setArray[o]=this.setArray[e])},t.prototype.sameSet=function(t,e){return-1!==this.setArray[t]&&-1!==this.setArray[e]&&this.setArray[t]===this.setArray[e]},t}();cc._RF.pop()},{}],LobbyPageCtrl:[function(t,e,a){"use strict";cc._RF.push(e,"8be5etHjxBFJ7oy5iXmUq28","LobbyPageCtrl"),Object.defineProperty(a,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,n=o.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.matchingPanel=null,e}return __extends(e,t),e.prototype.onClickBackButton=function(){this.node.destroy()},e.prototype.onClickMatching=function(){cc.instantiate(this.matchingPanel).parent=this.node.parent,this.enabled=!1},e.prototype.start=function(){},__decorate([n(cc.Prefab)],e.prototype,"matchingPanel",void 0),e=__decorate([i],e)}(cc.Component);a.default=l,cc._RF.pop()},{}],LoginPageCtrl:[function(t,e,a){"use strict";cc._RF.push(e,"d2df5VGenVNoJazyDhc4uYt","LoginPageCtrl"),Object.defineProperty(a,"__esModule",{value:!0});var o=t("../WebSocketManage"),i=cc._decorator,n=i.ccclass,l=i.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.userName=null,e.WebScoketNode=null,e.BattlePage=null,e}return __extends(e,t),e.prototype.start=function(){},e.prototype.onLogin=function(){var t=this.userName.getComponent(cc.EditBox).string;this.WebScoketNode.getComponent(o.default).sendMessage({name:t}),cc.instantiate(this.BattlePage).parent=this.node.parent,this.enabled=!1},__decorate([l(cc.Node)],e.prototype,"userName",void 0),__decorate([l(cc.Node)],e.prototype,"WebScoketNode",void 0),__decorate([l(cc.Prefab)],e.prototype,"BattlePage",void 0),e=__decorate([n],e)}(cc.Component);a.default=r,cc._RF.pop()},{"../WebSocketManage":"WebSocketManage"}],MatchingCtrl:[function(t,e,a){"use strict";cc._RF.push(e,"1dbafsnqO5BzadTTzTYpDVp","MatchingCtrl"),Object.defineProperty(a,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,n=(o.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onClickBackButton=function(){this.node.destroy()},e.prototype.start=function(){},e=__decorate([i],e)}(cc.Component));a.default=n,cc._RF.pop()},{}],PlayerOperationCtrl:[function(t,e,a){"use strict";cc._RF.push(e,"c8f9bczRL9LBY0TeU61gGwq","PlayerOperationCtrl"),Object.defineProperty(a,"__esModule",{value:!0});var o=t("./Page/BattleCatrl"),i=t("./WebSocketManage"),n=cc._decorator,l=n.ccclass,r=n.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.BattleRegion=null,e.Buttle=null,e.player=null,e.rotationStatus=0,e.moveStatus=0,e.BattleCtrl=null,e.WebScoket=null,e.i=0,e.correct=-1,e}return __extends(e,t),e.prototype.start=function(){this.BattleCtrl=this.node.parent.parent.getComponent(o.default),this.WebScoket=cc.find("WebScoket").getComponent(i.default);var t=this;this.node.getChildByName("left").on(cc.Node.EventType.TOUCH_START,function(e){t.getPlayer(t.BattleCtrl.playerName),t.rotationStatus=1}),this.node.getChildByName("left").on(cc.Node.EventType.TOUCH_END,function(e){t.getPlayer(t.BattleCtrl.playerName),t.rotationStatus=0}),this.node.getChildByName("right").on(cc.Node.EventType.TOUCH_START,function(e){t.getPlayer(t.BattleCtrl.playerName),t.rotationStatus=2}),this.node.getChildByName("right").on(cc.Node.EventType.TOUCH_END,function(e){t.getPlayer(t.BattleCtrl.playerName),t.rotationStatus=0}),this.node.getChildByName("up").on(cc.Node.EventType.TOUCH_START,function(e){t.getPlayer(t.BattleCtrl.playerName),t.moveStatus=1}),this.node.getChildByName("up").on(cc.Node.EventType.TOUCH_END,function(e){t.getPlayer(t.BattleCtrl.playerName),t.moveStatus=0}),this.node.getChildByName("bottom").on(cc.Node.EventType.TOUCH_START,function(e){t.getPlayer(t.BattleCtrl.playerName),t.moveStatus=2}),this.node.getChildByName("bottom").on(cc.Node.EventType.TOUCH_END,function(e){t.getPlayer(t.BattleCtrl.playerName),t.moveStatus=0}),this.node.getChildByName("fire").on(cc.Node.EventType.TOUCH_START,function(e){var a=0;t.getPlayer(t.BattleCtrl.playerName),t.player.parent.children.map(function(t){t.name.length>11&&a++}),a<5&&(t.i=(t.i+1)%5,t.generateBullet("tank_buttle_"+t.i))})},e.prototype.generateBullet=function(t){var e=cc.instantiate(this.Buttle);e.name=t;var a=this.player.scale,o=this.player.rotation;e.scale=a,e.rotation=o,e.zIndex=-1;var i=this.player.x,n=this.player.y,l=this.player.x,r=this.player.y+this.player.height*a/2+2,s=(r-n)*Math.sin(Math.PI*o/180)+i,c=(r-n)*Math.cos(Math.PI*o/180)+(l-i)*Math.sin(Math.PI*o/180)+n;e.setPosition(s,c),this.player.parent.addChild(e),this.WebScoket.sendMessage({msg:23,data:{buttleName:e.name,scale:a,x:s,y:c,rotation:o}})},e.prototype.generateReceiveButtle=function(t){this.getPlayer(this.BattleCtrl.playerName);var e=cc.instantiate(this.Buttle);console.log(e.name),e.name=t.data.buttleName,e.scale=t.data.scale,e.rotation=t.data.rotation,e.setPosition(t.data.x,t.data.y);var a="tank_2";console.log(this.player),"tank_2"===this.player.name&&(a="tank_1"),this.getTankName(a).parent.addChild(e)},e.prototype.getTankName=function(t){var e=this.BattleRegion.children;if(e)for(var a=0;a<e.length;a++)if(e[a].getChildByName(t))return e[a].getChildByName(t)},e.prototype.getPlayer=function(t){var e=this.BattleRegion.children;if(e){for(var a=0;a<e.length;a++)if(e[a].getChildByName(t))return void(this.player=e[a].getChildByName(t));console.log(this.player)}},e.prototype.update=function(t){if(1===this.rotationStatus&&(this.player.rotation-5<0?this.player.rotation=360-this.player.rotation-5:this.player.rotation=this.player.rotation-5,this.sendTankData()),2===this.rotationStatus&&(this.player.rotation=(this.player.rotation+5)%360,this.sendTankData()),1===this.moveStatus){e=5;this.player.x+=e*Math.sin(Math.PI*this.player.rotation/180),this.player.y+=e*Math.cos(Math.PI*this.player.rotation/180),console.log(this.player.x,this.player.y),this.sendTankData()}if(2===this.moveStatus){var e=5;this.player.x-=e*Math.sin(Math.PI*this.player.rotation/180),this.player.y-=e*Math.cos(Math.PI*this.player.rotation/180),this.sendTankData()}},e.prototype.sendTankData=function(){var t=this;this.WebScoket.sendMessage({msg:22,data:{tankName:t.BattleCtrl.playerName,x:t.player.x,y:t.player.y,rotation:t.player.rotation}})},e.prototype.setOtherTankDataFor2=function(t){var e=null;"2"===t.dataMessage&&(e=this.getTankName(t.data.tankName)),e&&(e.x=t.data.x,e.y=t.data.y,e.rotation=t.data.rotation)},__decorate([r(cc.Node)],e.prototype,"BattleRegion",void 0),__decorate([r(cc.Prefab)],e.prototype,"Buttle",void 0),e=__decorate([l],e)}(cc.Component);a.default=s,cc._RF.pop()},{"./Page/BattleCatrl":"BattleCatrl","./WebSocketManage":"WebSocketManage"}],TankCtrl:[function(t,e,a){"use strict";cc._RF.push(e,"33ad7W4Sq9CJ4BpgZFyxICj","TankCtrl"),Object.defineProperty(a,"__esModule",{value:!0});var o=t("../Page/BattleCatrl"),i=cc._decorator,n=i.ccclass,l=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){this.playerRg=this.getComponent(cc.RigidBody)},e.prototype.update=function(){},e.prototype.onCollisionEnter=function(t,e){"buttle"===t.node.name.substring(5,11)&&(this.node.destroy(),t.node.destroy(),cc.find("Canvas/BattlePagePanel").getComponent(o.default).restart())},e=__decorate([n],e)}(cc.Component));a.default=l,cc._RF.pop()},{"../Page/BattleCatrl":"BattleCatrl"}],WebSocketManage:[function(t,e,a){"use strict";cc._RF.push(e,"8aeccTbL45CTogTfRwPMgzA","WebSocketManage"),Object.defineProperty(a,"__esModule",{value:!0});var o=t("./Page/BattleCatrl"),i=t("./PlayerOperationCtrl"),n=cc._decorator,l=n.ccclass,r=(n.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.BattlePage=null,e.Operation=null,e}return __extends(e,t),e.prototype.start=function(){var t=this;this.ws=new WebSocket("ws://app.ei-marketing.net/tankWar/echo.do"),this.ws.onopen=function(t){console.log("服务器已打开")},this.ws.onerror=function(t){console.log("连接服务器失败")},this.ws.onclose=function(t){console.log("服务器关闭")},this.ws.onmessage=function(e){var a=JSON.parse(e.data);"0"===a.dataMessage&&(t.BattlePage=cc.find("Canvas/BattlePagePanel"),t.BattlePage.getComponent(o.default).sendCallBackFor0()),"1"===a.dataMessage&&(t.BattlePage=cc.find("Canvas/BattlePagePanel"),t.BattlePage.getComponent(o.default).sendCallBackFor1(a)),"2"===a.dataMessage&&(t.Operation=cc.find("Canvas/BattlePagePanel/BattleBox/operation"),t.Operation.getComponent(i.default).setOtherTankDataFor2(a)),"3"===a.dataMessage&&(t.Operation=cc.find("Canvas/BattlePagePanel/BattleBox/operation"),t.Operation.getComponent(i.default).generateReceiveButtle(a))}},e.prototype.sendMessage=function(t){var e=JSON.stringify(t);this.ws.send(e)},e=__decorate([l],e)}(cc.Component));a.default=r,cc._RF.pop()},{"./Page/BattleCatrl":"BattleCatrl","./PlayerOperationCtrl":"PlayerOperationCtrl"}],init:[function(t,e,a){"use strict";cc._RF.push(e,"3ff06I6ha1G4Y7NMh0WTs/7","init"),cc.director.getPhysicsManager().enabled=!0,cc.director.getPhysicsManager().gravity=cc.v2(),cc._RF.pop()},{}]},{},["BattleCatrl","HomePageCtrl","LobbyPageCtrl","LoginPageCtrl","MatchingCtrl","BulletCtrl","CellCtrl","TankCtrl","PlayerOperationCtrl","LinkedMap","WebSocketManage","init"]);